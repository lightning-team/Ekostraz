<app-loader [loading$]="loading$"
            [loaderText]="'Ładowanie mapy...'"
            [renderHiddenBeforeLoaded]="true">
    <agm-map *ngIf="initialData"
             [latitude]="initialData[0].geoLat"
             [longitude]="initialData[0].geoLng"
             (tilesLoaded)="onTilesLoaded()">
        <agm-marker *ngFor="let intervention of initialData.slice(0,200)"
                    [latitude]="intervention.geoLat"
                    [longitude]="intervention.geoLng">
            <agm-info-window [disableAutoPan]="false">
                <app-intervention-details [intervention]='intervention' embedded="true">
                </app-intervention-details>
            </agm-info-window>
        </agm-marker>
    </agm-map>
</app-loader>
